
<html>
  <head>
    <script
      src="//cdnjs.cloudflare.com/ajax/libs/document-register-element/1.4.1/document-register-element.js"
      >/* W3C Custom Elements */</script>

  </head>
  <body>
    <div id="content">
      <x-tag class="directChild"></x-tag>
      <div class="A">
	<x-tag class="subChild"></x-tag>
      </div>
    </div>

    <script type="text/javascript">

      document.registerElement('x-tag', {
      prototype: Object.create(HTMLElement.prototype, {
      attachedCallback: { value: function () { output('attach: ' + this.getAttribute('class')); } },
      detachedCallback: { value: function () { output('detach: ' + this.getAttribute('class')); } }
      })
      })

      function output(msg) {
      var div = document.createElement('div');
      div.innerHTML = msg;
      document.body.appendChild(div);
      }

      document.querySelector('#content').innerHTML = '';

    </script> 



  </body>
</html>
